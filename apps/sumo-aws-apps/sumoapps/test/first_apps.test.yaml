---
Global:
  TemplatePath: "../first_apps.template.yaml"
  TestProjectName: FirstAppsProject
  ParallelTestsRun: 7
  GlobalParameters:
    Section1aSumoLogicDeployment: us1
    Section1bSumoLogicAccessID: '${ENTERPRISE_US1_ACCESS_ID}'
    Section1cSumoLogicAccessKey: '${ENTERPRISE_US1_ACCESS_KEY}'
    Section1dSumoLogicResourceRemoveOnDeleteStack: 'true'
    Section5aParentStackLambdaARN: 'arn:aws:lambda:ap-south-1:668508221233:function:asdasdasd-SumoLogicLambdaHelper-XF6O7N1TX2SO'
Tests:
  - TestName: installallfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'Yes'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'Yes'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'Yes'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        Section5bAppFolderName: "Install All First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoCloudTrailApp
            - SumoPCICloudTrailApp
            - SumoVPCFlowLogApp
            - SumoPCIVPCFlowLogApp
            - SumoThreatIntelApp
  - TestName: installnothingfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'No'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'No'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'No'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        #Section5bAppFolderName: "Install Nothing First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
  - TestName: installcloudtrailfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'Yes'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'No'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'No'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        #Section5bAppFolderName: "Install CloudTrail First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoCloudTrailApp
            - SumoPCICloudTrailApp
  - TestName: installVPCfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'No'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'Yes'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'No'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        #Section5bAppFolderName: "Install VPC First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoVPCFlowLogApp
            - SumoPCIVPCFlowLogApp
  - TestName: installThreatIntelfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'No'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'No'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'Yes'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        #Section5bAppFolderName: "Install Threat Intel First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoThreatIntelApp
  - TestName: installThreatIntelandVPCfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'No'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'Yes'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'Yes'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        Section5bAppFolderName: "Install Threat and VPC First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoVPCFlowLogApp
            - SumoPCIVPCFlowLogApp
            - SumoThreatIntelApp
  - TestName: installCloudTrailandVPCfirstapps
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aInstallCloudTrailApps: 'No'
        Section2bCloudTrailLogsSourceCategoryName: 'Labs/AWS/CloudTrail'
        Section3aInstallVpcApps: 'Yes'
        Section3bVpcLogsSourceCategoryName: 'Labs/AWS/VPC'
        Section4aInstallThreatIntelApp: 'Yes'
        Section4bElasticLoadBalancerSourceCategory: 'Labs/AWS/ELB'
        Section5bAppFolderName: "Install CloudTrail and VPC First Apps"
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoVPCFlowLogApp
            - SumoPCIVPCFlowLogApp
            - SumoThreatIntelApp