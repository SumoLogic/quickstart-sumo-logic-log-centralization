---
Global:
  TemplatePath: "../nons3sources.template.yaml"
  TestProjectName: NonS3SourcesProject
  ParallelTestsRun: 7
  GlobalParameters:
    Section1aSumoLogicDeployment: us1
    Section1bSumoLogicAccessID: '${ENTERPRISE_US1_ACCESS_ID}'
    Section1cSumoLogicAccessKey: '${ENTERPRISE_US1_ACCESS_KEY}'
    Section1dSumoLogicResourceRemoveOnDeleteStack: 'true'
    Section4aParentStackLambdaARN: 'arn:aws:lambda:ap-south-1:668508221233:function:asdasdasd-SumoLogicLambdaHelper-XF6O7N1TX2SO'
    QSS3BucketName: 'cf-templates-1qpf3unpuo1hw-ap-south-1'
Tests:
  - TestName: installallnons3sources
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section2aCollectorName: 'Test-Non-S3-Sources-Collector'
        Section3aCreateGuardDutySource: 'Yes'
        Section3bGuardDutySourceName: 'Test-GuardDuty-Source'
        Section3cGuardDutySourceCategoryName: 'Labs/Test/AWS/GuardDuty'
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
            - SumoHostedCollector
            - GuardDutySource
            - GuardDutyFunction
            - GuardDutyFunctionCloudWatchEventTrigger
            - GuardDutyFunctionCloudWatchEventTriggerPermission
            - GuardDutyFunctionRole
      - AssertType: OutputsCheck
        Assert:
          Outputs:
            - GuardDutyCloudWatchEventFunction
            - SumoGuardDutySourceEndpoint
  - TestName: installnothingnons3sources
    Regions:
      - ap-south-1
    Parameters:
      Values:
        Section3aCreateGuardDutySource: 'No'
    Skip: false
    Assertions:
      - AssertType: ResourceExistence
        Assert:
          Resources:
      - AssertType: OutputsCheck
        Assert:
          Outputs: